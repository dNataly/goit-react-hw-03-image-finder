{"version":3,"sources":["components/Modal/Modal.module.css","components/Loader/Loader.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Modal/Modal.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Searchbar/Searchbar.js","services/gotService.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","App","type","color","height","width","className","s","loader","React","Component","ImageGalleryItem","item","onClick","src","webformatURL","alt","tags","img","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","props","onClose","handleBackDropClick","event","currentTarget","target","window","addEventListener","this","removeEventListener","createPortal","Overlay","children","ImageGallery","state","imageIndex","showModal","toggleModal","setState","index","items","map","handleClick","largeImageURL","Button","Searchbar","query","handleSearchFormSubmit","value","handleSubmit","preventDefault","trim","onSubmit","SearchForm","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","apiBase","api_key","images_per_page","Status","page","images","error","status","handleSearchSubmit","handleLoadMore","checkAvailability","itemsLength","snapshot","fetch","then","res","ok","Error","json","gotService","results","resultsCount","hits","length","isMoreAvailable","scrollTo","top","documentElement","scrollHeight","behavior","catch","message","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9de9a3ea.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1j2Bs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","import React from \"react\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport s from \"./Loader.module.css\";\r\n\r\nexport default class App extends React.Component {\r\n  render() {\r\n    return <Loader type=\"Oval\" color=\"#00BFFF\" height={50} width={50} className={s.loader} />;\r\n  }\r\n}\r\n","import s from \"./ImageGalleryItem.module.css\";\r\n\r\nexport default function ImageGalleryItem({ item, onClick }) {\r\n  return (\r\n    <li className={s.ImageGalleryItem} onClick={onClick}>\r\n      <img src={item.webformatURL} alt={item.tags} className={s.img} />\r\n    </li>\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport s from \"./Modal.module.css\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackDropClick = (event) => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={s.Overlay} onClick={this.handleBackDropClick}>\r\n        <div className={s.Modal}>{this.props.children}</div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport Modal from \"../Modal/Modal\";\r\nimport s from \"./ImageGallery.module.css\";\r\n\r\nexport class ImageGallery extends Component {\r\n  state = {\r\n    imageIndex: null,\r\n    showModal: false,\r\n  };\r\n\r\n  static propTypes = {\r\n    items: PropTypes.arrayOf(PropTypes.object),\r\n  };\r\n\r\n  handleClick(index) {\r\n    this.setState({ imageIndex: index, showModal: true });\r\n  }\r\n\r\n  toggleModal = () => {\r\n    this.setState(({ showModal }) => ({\r\n      showModal: !showModal,\r\n    }));\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <ul className={s.ImageGallery}>\r\n          {this.props.items.map((item, index) => (\r\n            <ImageGalleryItem\r\n              key={index}\r\n              item={item}\r\n              onClick={() => {\r\n                this.handleClick(index);\r\n              }}\r\n            />\r\n          ))}\r\n        </ul>\r\n        {this.state.showModal && (\r\n          <Modal onClose={this.toggleModal}>\r\n            <img src={this.props.items[this.state.imageIndex].largeImageURL} alt={this.props.items[this.state.imageIndex].tags} />\r\n          </Modal>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGallery;\r\n","import React from \"react\";\r\nimport s from \"./Button.module.css\";\r\n\r\nexport default function Button(props) {\r\n  return (\r\n    <button type=\"button\" onClick={props.onClick} className={s.Button}>\r\n      {props.children}\r\n    </button>\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\r\nimport s from \"./Searchbar.module.css\";\r\nimport { BsSearch } from \"react-icons/bs\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    query: \"\",\r\n  };\r\n\r\n  handleSearchFormSubmit = (event) => {\r\n    this.setState({ query: event.target.value });\r\n  };\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    const query = this.state.query.trim();\r\n\r\n    if (query) {\r\n      this.props.onSubmit(query);\r\n    }\r\n    this.setState({ query: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={s.SearchFormButton}>\r\n            <span className={s.SearchFormButtonLabel}>\r\n              <BsSearch />\r\n            </span>\r\n          </button>\r\n\r\n          <input className={s.SearchFormInput} type=\"text\" autoComplete=\"off\" autoFocus placeholder=\"Search images and photos\" onChange={this.handleSearchFormSubmit} />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","const apiBase = \"https://pixabay.com/api/\";\nconst api_key = \"22365607-cef5a2e8d771dec0544965281\";\nconst images_per_page = \"12\";\n\nfunction gotService(query, page = 1) {\n  return fetch(`${apiBase}?q=${query}&page=${page}&key=${api_key}&image_type=photo&orientation=horizontal&per_page=${images_per_page}`).then((res) => {\n    if (!res.ok) {\n      throw new Error(`Could not fetch ${apiBase}, received ${res.status}`);\n    }\n    return res.json();\n  });\n}\n\nexport { gotService, images_per_page };\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport Loader from \"./components/Loader/Loader.js\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport Button from \"./components/Button/Button\";\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport { gotService, images_per_page } from \"./services/gotService.js\";\n\nconst Status = {\n  PENDING: \"pending\",\n  RESOLVED: \"resolved\",\n  REJECTED: \"rejected\",\n  LOADING: \"loading\",\n};\n\nclass App extends Component {\n  state = {\n    query: \"\",\n    page: 1,\n    images: [],\n    error: null,\n    status: null,\n  };\n\n  componentDidUpdate(snapshot) {\n    const { query, page, images } = this.state;\n    if (this.state.status === Status.LOADING) {\n      this.setState({ status: Status.PENDING });\n\n      gotService(query, page)\n        .then((results) => {\n          const resultsCount = results.hits.length;\n          if (resultsCount === 0) {\n            this.setState({\n              error: new Error(`No search results for ${query}`),\n              status: Status.REJECTED,\n            });\n            return;\n          }\n\n          const isMoreAvailable = this.checkAvailability(resultsCount);\n\n          this.setState({\n            images: [...images, ...results.hits],\n            isMoreAvailable,\n            status: Status.RESOLVED,\n          });\n        })\n        .then(() => {\n          if (page !== 1) {\n            window.scrollTo({\n              top: document.documentElement.scrollHeight,\n              behavior: \"smooth\",\n            });\n          }\n        })\n        .catch((error) => {\n          this.setState({ error: true, status: Status.REJECTED });\n        });\n    }\n  }\n\n  handleSearchSubmit = (query) => {\n    this.setState({ images: [], query, page: 1, status: Status.LOADING });\n  };\n\n  handleLoadMore = () => {\n    this.setState(() => ({\n      page: this.state.page + 1,\n      status: Status.LOADING,\n    }));\n  };\n\n  checkAvailability = (itemsLength) => {\n    return !(itemsLength < images_per_page);\n  };\n\n  render() {\n    const { images, isMoreAvailable, error, status } = this.state;\n\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.handleSearchSubmit} />\n        {status === Status.REJECTED && <div className=\"error\"> {error.message}</div>}\n        <ImageGallery items={images} />\n        {status === Status.PENDING && <Loader />}\n        {status === Status.RESOLVED && isMoreAvailable && <Button onClick={this.handleLoadMore}>Load more</Button>}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchFormButton\":\"Searchbar_SearchFormButton__21S85\",\"SearchFormInput\":\"Searchbar_SearchFormInput__VhsfU\"};"],"sourceRoot":""}